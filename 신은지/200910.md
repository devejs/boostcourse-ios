# 200910 Study Log

## iOS BoostCourse
* H.I.G
* 내비게이션 인터페이스/컨트롤러
* 모달
* 뷰의 상태 변화

### H.I.G(Human Interface Guidelines)

### 내비게이션 인터페이스
iOS에서 화면 전환을 위해 사용되는 기법  
주로 계층적 구조의 화면 전환을 위해 사용되는 드릴 다운 인터페이스
*드릴 다운 인터페이스: 선택할 수 있는 항목에 대한 세부 항목이 존재*

### 내비게이션 컨트롤러
내비게이션 스택을 사용하는 컨테이너 뷰 컨트롤러;  
즉, 일종의 뷰 컨트롤러이나 관리하는 해당 뷰가 컨테이너임  
무슨 컨테이너냐 하면 그게 바로 내비게이션 스택
얘는 화면에 두 개의 뷰를 표시하는데,
  * 내비게이션 컨트롤러가 직접 관리하는 뷰(내비게이션 바 또는 툴바)
  * 스택의 최상위 컨텐츠 뷰 컨트롤러의 뷰

### 내비게이션 스택  
내비게이션 스택은 뷰 컨트롤러들을 담아놓는(contain) 스택 컨테이너임. 즉, 배열처럼 뷰 컨트롤러들을 여러 개 가지고 있는데 그게 스택 형태

여러 뷰 컨트롤러들이 스택에 쌓이기 시작하면 가장 먼저 스택에 추가된 뷰 컨트롤러를 루트 뷰 컨트롤러라고 함(최하위)  
리눅스 디렉토리 생각하면 편함  
그리고 맨 마지막에 푸시된 뷰 컨트롤러가 최상위 뷰 컨트롤러로 화면에 보여지게 됨  
이름과 같이, 뷰 컨트롤러 관리할 때는 push/pop 사용

* 화면 이동
`UINavigationController` 클래스의 메소드나 `segue`를 사용하여 내비게이션 스택을 관리할 수 있음  
iOS의 핵심! Swipe나 뒤로가기를 통해서도 최상위 뷰 컨트롤러를 삭제할 수 있음

> *Segue란?*
> 스토리보드에서 한 화면에서 다른 화면으로 전환되는 것
> 내부적으로 ÙINavigationController 메소드 사용함

  * Push  
  내비게이션에 새로운 뷰 컨트롤러가 푸시될 때 `UIViewController` 인스턴스가 생성되고 스택에 추가됨  
  그리고 이 때 반드시! 루트 뷰 컨트롤러가 설정되어 있어야 함  
  아무 화면도 없는데 갑자기 화면이 뿅 나타날 수는 없으니ㅇㅇ
  그리고 내비게이션에 푸시된다는 건 기본적으로 사용자가 선택할 수 있는 어떤 화면이 있을 때 새로운 화면으로 전환한다는 것이기 때문에 루트 뷰 컨트롤러는 내비게이션 스택 자체와 항상 함께함

  **중요한 점**
  새 뷰 컨트롤러가 푸시될 때 기존의 뷰 컨트롤러들은 삭제되지 않는다. 아이폰 쓸 때 스와이프 하다 멈추면 두 개의 뷰가 전부 보이는 상태로 멈춰있는 것이 그 예시

  * Pop
  내비게이션에 뷰 컨트롤러가 팝될 때 해당 컨트롤러의 인스턴스가 참조되지 않는 상태라면 메모리에서 해제되고 스택에서 삭제됨.  
  위에 적었다시피 루트 뷰 컨트롤러는 내비게이션 스택과 함께이기 때문에 스택에서 팝되지 않음(뒤로가기 버튼 없음)

* 내비게이션 인터페이스를 구성하는 두 가지 방법
  * 스토리보드
    - 내비게이션 컨트롤러 선택 or Embed In
  * 코드
    - 루트 뷰 컨트롤러 생성-> 내비게이션 컨트롤러 초기화 및 생성-> 내비게이션 컨트롤러를 윈도우의 루트 뷰 컨트롤러로 설정(어떤 애플리케이션의 윈도우 루트 뷰일 경우)

### 내비게이션 바
내비게이션 컨트롤러에 의해 생성됨, 내비게이션 스택의 최상위 뷰 상단에 표시되고, 최상위 뷰 컨트롤러가 바뀔 때마다 업데이트됨



새로운 뷰 컨트롤러를 추가했을 때, 이 컨트롤러는 지금 그 어떠한 커스텀 클래스와도 연결되어있지 않은 상태
-> 새로운 파일을 열 거에요
-> Cocoa Touch Class
-> 새 뷰 컨트롤러를 만들고 스토리보드에서 Custom Class 연결을 해준다
-> 커스텀 클래스를 연결해주기 전에는 스토리보드에 뷰 컨트롤러 인스턴스만 하나 달랑 존재했던 거고, 이제 Custom class를 연결함으로써 우리가 관리할 수 있는 인스턴스를 생성함
-> Editor > Embed in > Navigation Controller 추가
-> 첫번쨰 뷰에서 두번쨰 뷰로 이동하기 위해 버튼을 만들고, ctrl+ 드래그로 연결해주자
-> back 버튼이 생성되는 걸 볼 수 있음
-> 지금까지 Push를 스토리보드에서 구현함

그렇다면 Pop을 코드에서 구현해보자
버튼 추가-> 코드에서 @IBAction 메소드 추가-> 스토리보드에서 액션과 버튼 링크


> Q> 항상 궁금한게 스토리보드에서 링크 작업하는게 나을까 코드로 구현하는게 나을까? 어디서는 스토리보드 쓰고 어디서는 코드를 쓰니까 약간 일관성이 떨어져보임

### 모달
사용자의 이목을 끌기 위해 사용하는 화면 전환 기법
이목을 집중해야하는 화면을 다른 화면 위로 띄워서 표현
모달로 보이는 화면을 사라지게 하려면 반드시 특정 선택을 해야함(확인/취소 등)
-> 정보의 흐름을 보여주는 화면전환보다는 꼭 이목을 끌어야하는 화면에서 사용; 단순하고 빠르게 처리할 수 있는 내용

### 프레젠테이션 기능
뷰 컨트롤러를 컨테이너뷰 컨트롤러에 임베드하는 것 외에 뷰 컨트롤러를 화면에 나타낼 수 있는 방법
뷰 컨트롤러의 present 기능은 `UIViewController` 클래스에 내장되어 모든 뷰 컨트롤러 객체에서 사용 가능함
Present 기능, 즉 나타내기 기능은 나타내는 뷰(기존 뷰)와 나타나는 뷰(생성되는 뷰)간의 관계를 생성한다.

>Q> 프레젠트 기능과 프레젠테이션 기능이 다른건가? 프레젠테이션 기능은 UIKit에 내장되어있다는데???

UIKit에 내장된 프레젠테이션 기능-> 내장/커스텀 애니메이션을 사용하여 새로운 뷰 컨트롤러 표시
프로그래밍 방식/ 세그(segues)를 통하여 구현 가능
* 프레젠테이션 스타일  
뷰 컨트롤러가 화면에 나타나는 모양 정의
앱 디자인시 적당한 프레젠테이션 스타일을 골라 뷰 컨트롤러의 `modalPresentationStyle` 프로퍼티에 적절한 상수 할당
  * 전체화면(Full-screen) 프레젠테이션 스타일  
  화면 전체를 덮어 아래의 기본 컨텐츠와 상호작용 방지
  기본 컨텐츠를 완전히 가리거나, 뷰를 흐리게 하거나, 투명도를 낮추어 표현 가능하지만 어쨌든 핵심은 기본 컨텐츠와의 상호작용이 안된다는 것
    - UIModalPresentationFullScreen
    - UIModalPresentationOverFullScreen
    - UIModalPresentationPageSheet
    - UIModalPresentationFormSheet
  * 팝오버(Popover) 스타일 **(iPad에서만 지원)**  
  뷰 컨트롤러를 팝오버뷰로 나타냄. 팝오버는 추가 정보, 포커스, 선택한 객체와 관련된 항목 목록을 표시하는데 유용
  (팝오버뷰 그림을 찾아주세요)
  프레젠테이션 스타일은 기본 OverFullScreen, 팝업 뷰 외부를 탭할 경우 자동으로 팝업을 닫는다.
  * 현재 컨텍스트(Current Context) 스타일
  * 커스텀 프레젠테이션 스타일
  * 전환 스타일  
  뷰 컨트롤러를 표시하는데 사용하는 애니메이션 유형 결정
  `modalTransitionStyle` 프로퍼티에 기본 전환 스타일 저장

### 뷰 컨트롤러 보여주기 vs 나타내기
`UIViewController` 클래스에서 뷰 컨트롤러를 표시하는 두 가지 기능, `보여주기`와 `나타내기`
- showViewController:sender:
- presentViewController:animated:completion




### 정리
종류|상위|하위
---|---|---
네비게이션 인터페이스|Push|Pop
모달|Present|Dismiss


두 가지의 흐름이 다르다는 것을 기억하라!!

### 뷰의 상태 변화
뷰가 화면에 보이는 상태가 변화할 때 호출되는 메서드
- viewDidLoad()
- viewWillAppear(_ animated: Bool)
- viewDidAppear(_ animated: Bool)
- viewWillDisappear(_ animated: Bool)
- viewDidDisappear(_ animated: Bool)

> *중요*
> 뷰 컨트롤러에서 위 메서드를 사용하기 위해 override 키워드를 명시하고 super을 호출해야 한다

```
override func viewDidLoad() {
  super.viewDidLoad()
  // Do any additional setup after loading the view,
  //    typically from a nib
  // view가 메모리에 적재된 시점에서 필요한 코드 작성
}
```
> nib이란 아주 오래 전 iOS에서 사용하던 스토리보드

* 뷰의 레이아웃 변화 메서드  
뷰가 생성된 후 바운드 및 위치 등 레이아웃이 변화할 때 호출되는 메서드
  - viewWillLayoutSubview()
  - viewDidLayoutSubview()

> Q> 서브뷰??
